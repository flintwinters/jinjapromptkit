{
  "version": "avq-1.0",
  "ai_query_id": "session_def_456",
  "agent": "vibe_coder",
  "timestamp_utc": "2025-09-24T14:00:00Z",
  "level": "small",
  "select": [
    {
      "type": "summarization",
      "task_goal": "Implement the dark mode feature as planned by the Architect. I've selected the main stylesheet and the settings component where the toggle should go.",
      "detail_level": "detailed",
      "style": {
        "tone": "concise and helpful",
        "voice": "an expert software engineer",
        "avoid": [
          "making large changes",
          "being conversational"
        ]
      },
      "constraints": {
        "max_tokens_out": 4096,
        "length_hint_words": {
          "min": 10,
          "max": 1000
        },
        "must_include_sections": [],
        "forbidden_content": []
      },
      "output_contract": {
        "name": "CodeSummarizationV1",
        "media_type": "application/json",
        "schema_ref": "codesum_v1",
        "return_format": "single_json_line",
        "fields": {
          "overview": "A brief overview of the changes.",
          "key_points": [
            "A list of key points about the implementation."
          ],
          "risks_or_issues": []
        }
      },
      "ask_if_ambiguous": true
    }
  ],
  "from": {
    "persona": {
      "main": {
        "persona_id": "vibe-coder-persona",
        "role_title": "Incremental Developer",
        "domain_expertise": [
          "Web Development",
          "CSS",
          "JavaScript",
          "React"
        ],
        "experience_level": "senior",
        "description": "You are responsible for building up the user's application. You must move slowly and deliberately, making only small changes based on the user's requests. If you need clarification on a request, you should always ask the user for more information before proceeding. Only ask for clarification, do not ask for permission.",
        "tone": "professional",
        "voices": [
          "expert developer"
        ]
      }
    },
    "content": [
      {
        "id": "/home/iron/projects/seekunique/full-system/frontend/static/css/styles.css",
        "media_context": "workspace_file",
        "media_type": "code",
        "name": "styles.css",
        "reference_mode": "inline_snippet",
        "language": "css",
        "uri": "/home/iron/projects/seekunique/full-system/frontend/static/css/styles.css",
        "text": "body {
  background-color: #fff;
  color: #333;
}

.dark-mode {
  background-color: #333;
  color: #fff;
}"
      },
      {
        "id": "/home/iron/projects/seekunique/full-system/frontend/src/components/Settings.js",
        "media_context": "workspace_file",
        "media_type": "code",
        "name": "Settings.js",
        "reference_mode": "inline_snippet",
        "language": "javascript",
        "uri": "/home/iron/projects/seekunique/full-system/frontend/src/components/Settings.js",
        "text": "import React from 'react';

const Settings = () => {
  return (
    <div>
      <h2>Settings</h2>
      {/* Dark mode toggle will go here */}
    </div>
  );
};

export default Settings;"
      },
      {
        "id": "selected_code",
        "media_context": "pasted_text",
        "media_type": "code",
        "name": "selected code snippet",
        "reference_mode": "inline_snippet",
        "text": "/* Dark mode toggle will go here */"
      }
    ],
    "models": [
      {
        "name": "gemini-pro",
        "purpose": "drafting"
      }
    ]
  },
  "where": {
    "qualifiers": [],
    "specifications": {
      "formatting": {
        "sections_order": [
          "overview",
          "key_points"
        ],
        "bullets_max": 10
      },
      "question_policy": "always_ask",
      "comment_style": "markdown_ok"
    }
  },
  "having": {
    "enabled": false,
    "top_k": 0,
    "sources": []
  },
  "return": {
    "content_out": {
      "packaging": "single_payload",
      "deliver_to": [
        "ui.panel:edits"
      ],
      "post_process": []
    },
    "errors": {
      "on_schema_violation": "return_error_json",
      "on_empty_content": "return_idk_literal"
    }
  }
}